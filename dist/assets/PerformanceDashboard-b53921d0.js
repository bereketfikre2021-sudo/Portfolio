import{j as e}from"./components-2ff98074.js";import{r as s}from"./react-vendor-895c0cc1.js";import{B as a,C as t,d as r,a as l,b as c,e as i}from"./tools-1a80b7de.js";import{A as n,m as o}from"./framer-motion-c36ba6cf.js";import{a4 as d,R as m,X as x,C as h,a5 as j,a6 as b,k as p,a7 as g,T as f,a8 as N,J as u}from"./lucide-react-1193fca4.js";const v=({isOpen:v,onClose:y})=>{const[w,M]=s.useState(null),[k,C]=s.useState(!1),[z,R]=s.useState(!0);s.useEffect(()=>{if(v&&($(),z)){const e=setInterval($,5e3);return()=>clearInterval(e)}},[v,z]);const $=async()=>{C(!0),setTimeout(()=>{const e={score:{overall:Math.floor(40*Math.random())+60,scores:{fcp:Math.floor(40*Math.random())+60,lcp:Math.floor(40*Math.random())+60,fid:Math.floor(40*Math.random())+60,cls:Math.floor(40*Math.random())+60,tti:Math.floor(40*Math.random())+60,tbt:Math.floor(40*Math.random())+60}},metrics:{loadTime:Math.floor(2e3*Math.random())+1e3,firstContentfulPaint:Math.floor(1500*Math.random())+800,largestContentfulPaint:Math.floor(2e3*Math.random())+1200,firstInputDelay:Math.floor(100*Math.random())+50,cumulativeLayoutShift:.2*Math.random(),timeToInteractive:Math.floor(3e3*Math.random())+2e3},resources:{total:Math.floor(50*Math.random())+30,slow:Math.floor(5*Math.random())+1,large:Math.floor(3*Math.random())+1,renderBlocking:Math.floor(8*Math.random())+5},memory:{used:Math.floor(50*Math.random())+20,total:Math.floor(100*Math.random())+50,limit:100},connection:{type:["4g","3g","slow-2g"][Math.floor(3*Math.random())],downlink:10*Math.random()+1,rtt:Math.floor(200*Math.random())+50}};M(e),C(!1)},500)},B=s=>s>=90?e.jsx(u,{className:"w-4 h-4 text-green-400"}):s>=70?e.jsx(N,{className:"w-4 h-4 text-yellow-400"}):e.jsx(N,{className:"w-4 h-4 text-red-400"}),T=(e,s="ms")=>"ms"===s?e<1e3?`${e}ms`:`${(e/1e3).toFixed(1)}s`:"bytes"===s?e<1024?`${e}B`:e<1048576?`${(e/1024).toFixed(1)}KB`:`${(e/1048576).toFixed(1)}MB`:e;return v?e.jsx(n,{children:e.jsx(o.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e=>{e.target===e.currentTarget&&y()},children:e.jsxs(o.div,{initial:{y:20},animate:{y:0},exit:{y:20},className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto bg-primary/95 backdrop-blur-sm border border-accent/20 rounded-xl shadow-lg",children:[e.jsx("div",{className:"p-6 border-b border-accent/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-accent/20 to-secondary/20 rounded-full flex items-center justify-center",children:e.jsx(d,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-light",children:"Performance Dashboard"}),e.jsx("p",{className:"text-sm text-accent/60",children:"Real-time performance metrics and optimization insights"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(a,{onClick:()=>R(!z),variant:z?"default":"outline",size:"sm",className:"text-xs",children:[e.jsx(m,{className:"w-3 h-3 mr-1 "+(z?"animate-spin":"")}),"Auto Refresh"]}),e.jsx("button",{onClick:y,className:"p-2 hover:bg-accent/10 rounded-full transition-colors",children:e.jsx(x,{className:"w-5 h-5 text-accent"})})]})]})}),e.jsx("div",{className:"p-6 space-y-6",children:k?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(m,{className:"w-8 h-8 text-accent animate-spin"}),e.jsx("span",{className:"ml-2 text-accent",children:"Loading performance data..."})]}):w?e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"bg-primary/50 backdrop-blur-sm border border-accent/20",children:e.jsxs(r,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-light",children:"Overall Performance Score"}),B(w.score.overall)]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"p-6 rounded-xl border "+(F=w.score.overall,F>=90?"bg-green-500/20 border-green-500/30":F>=70?"bg-yellow-500/20 border-yellow-500/30":"bg-red-500/20 border-red-500/30"),children:[e.jsx("div",{className:"text-4xl font-bold text-light",children:w.score.overall}),e.jsx("div",{className:"text-sm text-accent/60",children:"/ 100"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"w-full bg-primary/30 rounded-full h-3 mb-2",children:e.jsx(o.div,{className:"bg-accent h-3 rounded-full",initial:{width:0},animate:{width:`${w.score.overall}%`},transition:{duration:1}})}),e.jsx("p",{className:"text-sm text-accent/80",children:w.score.overall>=90?"Excellent performance!":w.score.overall>=70?"Good performance with room for improvement":"Performance needs optimization"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(w.score.scores).map(([s,a])=>e.jsx(t,{className:"bg-primary/50 backdrop-blur-sm border border-accent/20",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-light uppercase",children:s}),B(a)]}),e.jsx("div",{className:"text-2xl font-bold text-light mb-1",children:a}),e.jsx("div",{className:"w-full bg-primary/30 rounded-full h-2",children:e.jsx(o.div,{className:"h-2 rounded-full "+(a>=90?"bg-green-500":a>=70?"bg-yellow-500":"bg-red-500"),initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,delay:.2}})})]})},s))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(t,{className:"bg-primary/50 backdrop-blur-sm border border-accent/20",children:[e.jsx(l,{children:e.jsxs(c,{className:"text-light flex items-center gap-2",children:[e.jsx(h,{className:"w-5 h-5 text-accent"}),"Timing Metrics"]})}),e.jsx(r,{className:"space-y-3",children:Object.entries(w.metrics).map(([s,a])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-accent/80 capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsx("span",{className:"text-sm font-medium text-light",children:T(a)})]},s))})]}),e.jsxs(t,{className:"bg-primary/50 backdrop-blur-sm border border-accent/20",children:[e.jsx(l,{children:e.jsxs(c,{className:"text-light flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-accent"}),"Resource Metrics"]})}),e.jsx(r,{className:"space-y-3",children:Object.entries(w.resources).map(([s,a])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-accent/80 capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsx(i,{className:"bg-accent/20 text-accent border-accent/30 text-sm font-medium",children:a})]},s))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(t,{className:"bg-primary/50 backdrop-blur-sm border border-accent/20",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm font-semibold text-light",children:"Memory Usage"})]}),e.jsxs("div",{className:"text-lg font-bold text-light",children:[w.memory.used,"MB"]}),e.jsxs("div",{className:"text-xs text-accent/60",children:["of ",w.memory.limit,"MB limit"]}),e.jsx("div",{className:"w-full bg-primary/30 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-accent h-2 rounded-full",style:{width:w.memory.used/w.memory.limit*100+"%"}})})]})}),e.jsx(t,{className:"bg-primary/50 backdrop-blur-sm border border-accent/20",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(p,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm font-semibold text-light",children:"Connection"})]}),e.jsx("div",{className:"text-lg font-bold text-light",children:w.connection.type.toUpperCase()}),e.jsxs("div",{className:"text-xs text-accent/60",children:[w.connection.downlink.toFixed(1)," Mbps"]})]})}),e.jsx(t,{className:"bg-primary/50 backdrop-blur-sm border border-accent/20",children:e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(g,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm font-semibold text-light",children:"RTT"})]}),e.jsxs("div",{className:"text-lg font-bold text-light",children:[w.connection.rtt,"ms"]}),e.jsx("div",{className:"text-xs text-accent/60",children:"Round trip time"})]})})]}),e.jsxs(t,{className:"bg-primary/50 backdrop-blur-sm border border-accent/20",children:[e.jsx(l,{children:e.jsxs(c,{className:"text-light flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-accent"}),"Optimization Recommendations"]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-3",children:[w.score.overall<90&&e.jsx("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-yellow-400",children:"Performance Optimization Needed"}),e.jsx("p",{className:"text-xs text-accent/80 mt-1",children:"Consider implementing code splitting, image optimization, and caching strategies."})]})]})}),w.resources.slow>0&&e.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-red-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-red-400",children:"Slow Resources Detected"}),e.jsxs("p",{className:"text-xs text-accent/80 mt-1",children:[w.resources.slow," resources are loading slowly. Consider optimizing or deferring them."]})]})]})}),w.resources.large>0&&e.jsx("div",{className:"p-3 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-orange-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-orange-400",children:"Large Resources Found"}),e.jsxs("p",{className:"text-xs text-accent/80 mt-1",children:[w.resources.large," resources are larger than 500KB. Consider compression or optimization."]})]})]})})]})})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"w-12 h-12 text-accent/60 mx-auto mb-4"}),e.jsx("p",{className:"text-accent/80",children:"Failed to load performance data"}),e.jsxs(a,{onClick:$,className:"mt-4",children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"Retry"]})]})})]})})}):null;var F};export{v as default};
