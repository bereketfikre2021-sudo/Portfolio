import{j as e}from"./components-2ff98074.js";import{r as t}from"./react-vendor-895c0cc1.js";import{m as n}from"./framer-motion-c36ba6cf.js";import{W as i}from"./lucide-react-1193fca4.js";const o=()=>{const[e,n]=t.useState(null),[i,o]=t.useState(!1),[a,s]=t.useState(!1),[r,d]=t.useState(navigator.onLine);return t.useEffect(()=>{(window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)&&s(!0);const t=e=>{e.preventDefault(),n(e),localStorage.getItem("pwa-install-dismissed")||o(!0)},i=setTimeout(()=>{localStorage.getItem("pwa-install-dismissed")||e||o(!0)},5e3),a=()=>{s(!0),o(!1),n(null)},r=()=>d(!0),l=()=>d(!1);return window.addEventListener("beforeinstallprompt",t),window.addEventListener("appinstalled",a),window.addEventListener("online",r),window.addEventListener("offline",l),()=>{clearTimeout(i),window.removeEventListener("beforeinstallprompt",t),window.removeEventListener("appinstalled",a),window.removeEventListener("online",r),window.removeEventListener("offline",l)}},[]),null},a=()=>{const[o,a]=t.useState(navigator.onLine);return t.useEffect(()=>{const e=()=>a(!0),t=()=>a(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),o?null:e.jsx(n.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:e.jsxs("div",{className:"bg-red-500/90 backdrop-blur-sm text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[e.jsx(i,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"You're offline"})]})})},s=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})})};export{a as OfflineIndicator,o as default,s as registerServiceWorker};
