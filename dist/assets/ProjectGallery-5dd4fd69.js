import{j as e}from"./components-2ff98074.js";import{r as t}from"./react-vendor-895c0cc1.js";import{m as a,A as s}from"./framer-motion-c36ba6cf.js";import{E as l,X as i,N as r,O as n,p as c}from"./lucide-react-1193fca4.js";const o=({src:s,alt:l,className:i="",placeholder:r="/img/placeholder.webp",...n})=>{const[c,o]=t.useState(!1),[d,m]=t.useState(!1),[x,h]=t.useState(!1),u=t.useRef(null);t.useEffect(()=>{const e=new IntersectionObserver(([t])=>{t.isIntersecting&&(m(!0),e.disconnect())},{threshold:.1,rootMargin:"50px"});return u.current&&e.observe(u.current),()=>e.disconnect()},[]);return e.jsxs("div",{ref:u,className:`relative overflow-hidden ${i}`,...n,children:[e.jsx(a.div,{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-secondary/10 flex items-center justify-center",animate:{opacity:c?0:1},transition:{duration:.3},children:e.jsx("div",{className:"w-16 h-16 bg-accent/20 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-accent/40 border-t-accent rounded-full animate-spin"})})}),d&&e.jsx(a.img,{src:x?r:s,alt:l,className:"w-full h-full object-cover transition-opacity duration-300 "+(c?"opacity-100":"opacity-0"),onLoad:()=>{o(!0)},onError:()=>{h(!0),o(!0)},loading:"lazy"}),!c&&d&&e.jsx(a.div,{className:"absolute inset-0 bg-gradient-to-r from-accent/5 via-accent/10 to-accent/5",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 100%"}})]})},d=({projects:d,className:m=""})=>{const[x,h]=t.useState(null),[u,g]=t.useState(0),b=()=>{h(null),g(0),document.body.style.overflow="unset"},p=()=>{x&&x.images&&g(e=>e===x.images.length-1?0:e+1)},j=()=>{x&&x.images&&g(e=>0===e?x.images.length-1:e-1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 ${m}`,children:d.map((t,s)=>e.jsx(a.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*s},viewport:{once:!0},className:"group cursor-pointer",onClick:()=>((e,t=0)=>{h(e),g(t),document.body.style.overflow="hidden"})(t),children:e.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-primary/50 border border-accent/20 hover:border-accent/40 transition-all duration-300 hover:shadow-xl hover:shadow-accent/10",children:[e.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[e.jsx(o,{src:t.thumb,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(l,{className:"w-8 h-8 text-white mx-auto mb-2"}),e.jsx("p",{className:"text-white font-semibold",children:"View Gallery"})]})}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"bg-accent text-primary px-3 py-1 rounded-full text-sm font-semibold",children:t.role})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-light mb-2 group-hover:text-accent transition-colors",children:t.title}),e.jsx("p",{className:"text-accent/80 text-sm mb-4 line-clamp-2",children:t.summary}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.slice(0,3).map((t,a)=>e.jsx("span",{className:"bg-secondary/20 text-accent/80 px-2 py-1 rounded text-xs",children:t},a))})]})]})},t.id))}),e.jsx(s,{children:x&&e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm flex items-center justify-center p-4",onKeyDown:e=>{"Escape"===e.key&&b(),"ArrowRight"===e.key&&p(),"ArrowLeft"===e.key&&j()},tabIndex:-1,children:[e.jsx("button",{onClick:b,className:"absolute top-4 right-4 z-10 p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:e.jsx(i,{className:"w-6 h-6 text-white"})}),x.images&&x.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:j,className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:e.jsx(r,{className:"w-6 h-6 text-white"})}),e.jsx("button",{onClick:p,className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:e.jsx(n,{className:"w-6 h-6 text-white"})})]}),e.jsx("div",{className:"max-w-6xl max-h-[90vh] w-full",children:e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative",children:[e.jsx("div",{className:"aspect-video mb-6 rounded-xl overflow-hidden",children:e.jsx(o,{src:x.images?x.images[u]:x.thumb,alt:x.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"text-center text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:x.title}),e.jsx("p",{className:"text-gray-300 mb-4",children:x.role}),x.images&&x.images.length>1&&e.jsx("div",{className:"flex justify-center gap-2 mb-6",children:x.images.map((t,a)=>e.jsx("button",{onClick:()=>g(a),className:"w-3 h-3 rounded-full transition-colors "+(a===u?"bg-accent":"bg-gray-500")},a))}),e.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto leading-relaxed",children:x.summary}),e.jsx("div",{className:"flex justify-center gap-4 mt-6",children:x.link&&"#"!==x.link&&e.jsxs("a",{href:x.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-accent text-primary px-6 py-3 rounded-lg font-semibold hover:bg-accent/90 transition-colors",onClick:()=>{window.gtag&&window.gtag("event","click",{event_category:"external_link",event_label:x.title})},children:[e.jsx(c,{className:"w-4 h-4"}),"View Project"]})})]})]},u)}),x.images&&x.images.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 px-4 py-2 rounded-full text-white text-sm",children:[u+1," / ",x.images.length]})]})})]})};export{d as default};
